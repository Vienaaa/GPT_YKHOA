/*!
 * gptx
 * Copyright (c) 2024 Rui Reogo
 * MIT Licensed
 */

import * as Types from '../Types';
import * as Utils from '../Utils';
import axios from 'axios';

async function Aryahcr(
    messages: Types.Message[],
    model: Types.ProviderModels['Aryahcr']
): Promise<string> {
    const url = 'https://nexra.aryahcr.cc/api/chat/gpt';

    const response = await axios.post(
        url,
        {
            messages: messages,
            model: model || 'gpt-4'
        },
        {
            headers: Utils.getHeaders(url)
        }
    );

    if (response.data.gpt) {
        return response.data.gpt;
    }

    throw new Error('Invalid Response Structure');
}

export default Aryahcr;
